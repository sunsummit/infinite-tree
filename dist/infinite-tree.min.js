/*! infinite-tree v1.16.2 | (c) 2020 Cheton Wu <cheton@gmail.com> | MIT | https://github.com/cheton/infinite-tree */
var InfiniteTree=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==i&&e.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==t&&(i=function(n){e.removeListener(t,o),r(n)},e.once("error",i)),e.once(t,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,s,a;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=d(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,d=g(l,c);for(n=0;n<c;++n)i(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,i,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},a.prototype.listenerCount=v,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var s=o.apply(null,r);s&&e.push(s)}else if("object"===i)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";t.__esModule=!0;t.default=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),i=0;i<n.length;i++){var s=n[i];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])}return o}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.parent=null,this.children=[],this.state={},(0,i.default)(this,t),this.children=this.children||[]}return e.prototype.contains=function(t){for(;t instanceof e&&t!==this;){if(t.parent===this)return!0;t=t.parent}return!1},e.prototype.getChildAt=function(e){var t=null;return this.children.length>0&&e>=0&&e<this.children.length&&(t=this.children[e]),t},e.prototype.getChildren=function(){return this.children},e.prototype.getFirstChild=function(){var e=null;return this.children.length>0&&(e=this.children[0]),e},e.prototype.getLastChild=function(){var e=null;return this.children.length>0&&(e=this.children[this.children.length-1]),e},e.prototype.getNextSibling=function(){var e=null;if(this.parent){var t=this.parent.children.indexOf(this);t>=0&&t<this.parent.children.length-1&&(e=this.parent.children[t+1])}return e},e.prototype.getParent=function(){return this.parent},e.prototype.getPreviousSibling=function(){var e=null;if(this.parent){var t=this.parent.children.indexOf(this);t>0&&t<this.parent.children.length&&(e=this.parent.children[t-1])}return e},e.prototype.hasChildren=function(){return this.children.length>0},e.prototype.isLastChild=function(){return!this.getNextSibling()},e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length||void 0===t[0]||null===t[0]?[]:1===t.length?[].concat(t[0]):[].concat(t)};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.addEventListener=t.stopPropagation=t.preventDefault=t.getElementStyle=void 0;t.getElementStyle=function(e,t){return window.getComputedStyle?window.getComputedStyle(e)[t]:e.currentStyle[t]};t.preventDefault=function(e){void 0!==e.preventDefault?e.preventDefault():e.returnValue=!1};t.stopPropagation=function(e){void 0!==e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};t.addEventListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)};t.removeEventListener=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}},function(e,t,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;e.exports=function(e){var t,n=""+e,o=r.exec(n);if(!o)return n;var i="",s=0,a=0;for(s=o.index;s<n.length;s++){switch(n.charCodeAt(s)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==s&&(i+=n.substring(a,s)),a=s+1,i+=t}return a!==s?i+n.substring(a,s):i}},function(e,t,n){"use strict";var r=n(8).default;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=v(n(0)),o=v(n(1)),i=v(n(9)),s=v(n(10)),a=n(13),l=v(n(15)),c=v(n(4)),d=v(n(17)),u=n(18),h=v(n(19)),f=n(20),p=n(5);function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(){},j=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i="Error: "+e.replace(/%s/g,(function(){return n[o++]}));console&&console.error&&console.error(i);try{throw new Error(i)}catch(e){}},_=function(e){return!!e&&(e instanceof a.Node||(j("The node must be a Node object."),!1))},S=function(e){return(0,d.default)(e||new a.Node,{parent:null,children:[],state:{depth:-1,open:!0,path:"",prefixMask:"",total:0}})},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(y,e);var t,n,r,v=O(y);function y(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),L(C(n=v.call(this)),"options",{autoOpen:!1,droppable:!1,shouldLoadNodes:null,loadNodes:null,rowRenderer:f.defaultRowRenderer,selectable:!0,shouldSelectNode:null,el:null,layout:"div",noDataClass:"infinite-tree-no-data",noDataText:"No data",nodeIdAttr:"data-id",togglerClass:"infinite-tree-toggler",iconUrl:null}),L(C(n),"state",{openNodes:[],rootNode:S(),selectedNode:null,checkNodes:[]}),L(C(n),"clusterize",null),L(C(n),"nodeTable",new h.default),L(C(n),"nodes",[]),L(C(n),"rows",[]),L(C(n),"filtered",!1),L(C(n),"scrollElement",null),L(C(n),"contentElement",null),L(C(n),"draggableTarget",null),L(C(n),"droppableTarget",null),L(C(n),"contentListener",{click:function(e){var t=(e=e||window.event).stopPropagation;e.stopPropagation=function(){e.cancelBubble=!0,t&&t.call(e)},setTimeout((function(){if(!0!==e.cancelBubble&&(n.emit("click",e),!0!==e.cancelBubble)){var t=null,r=!1;for(e.target?t=e.target!==e.currentTarget?e.target:null:e.srcElement&&(t=e.srcElement);t&&t.parentElement!==n.contentElement;)(0,i.default)(t).has(n.options.togglerClass)&&(r=!0),t=t.parentElement;if(t&&!t.hasAttribute("disabled")){var o=t.getAttribute(n.options.nodeIdAttr),s=n.getNodeById(o);s&&(r?n.toggleNode(s,{async:!0}):n.selectNode(s))}}}),0)},dblclick:function(e){n.emit("doubleClick",e)},keydown:function(e){n.emit("keyDown",e)},keyup:function(e){n.emit("keyUp",e)},dragstart:function(e){e=e||window.event,n.draggableTarget=e.target||e.srcElement},dragend:function(e){e=e||window.event;var t=n.options.droppable.hoverClass,r=void 0===t?"":t;n.draggableTarget=null,n.droppableTarget&&((0,i.default)(n.droppableTarget).remove(r),n.droppableTarget=null)},dragenter:function(e){var t=null;for((e=e||window.event).target?t=e.target!==e.currentTarget?e.target:null:e.srcElement&&(t=e.srcElement);t&&t.parentElement!==n.contentElement;)t=t.parentElement;if(t&&n.droppableTarget!==t){var r=n.options.droppable,o=r.accept,s=r.hoverClass,a=void 0===s?"":s;(0,i.default)(n.droppableTarget).remove(a),n.droppableTarget=null;var l=!0;if("function"==typeof o){var c=t.getAttribute(n.options.nodeIdAttr),d=n.getNodeById(c);l=!!o.call(C(n),e,{type:"dragenter",draggableTarget:n.draggableTarget,droppableTarget:t,node:d})}l&&((0,i.default)(t).add(a),n.droppableTarget=t)}},dragover:function(e){e=e||window.event,(0,p.preventDefault)(e)},drop:function(e){if(e=e||window.event,(0,p.preventDefault)(e),n.draggableTarget&&n.droppableTarget){var t=n.options.droppable,r=t.accept,o=t.drop,s=t.hoverClass,a=void 0===s?"":s,l=n.droppableTarget.getAttribute(n.options.nodeIdAttr),c=n.getNodeById(l),d=!0;"function"==typeof r&&(d=!!r.call(C(n),e,{type:"drop",draggableTarget:n.draggableTarget,droppableTarget:n.droppableTarget,node:c})),d&&"function"==typeof o&&o.call(C(n),e,{draggableTarget:n.draggableTarget,droppableTarget:n.droppableTarget,node:c}),(0,i.default)(n.droppableTarget).remove(a),n.droppableTarget=null}}}),(0,s.default)(e)?t=w(w({},t),{},{el:e}):e&&"object"===m(e)&&(t=e),n.options=w(w({},n.options),t),n.create(),n.options.data&&n.loadData(n.options.data),n}return t=y,(n=[{key:"create",value:function(){var e=this;if(this.options.el){var t=null;if(this.scrollElement=document.createElement("div"),"table"===this.options.layout){var n=document.createElement("table");n.className=(0,o.default)("infinite-tree","infinite-tree-table");var r=document.createElement("tbody");n.appendChild(r),this.scrollElement.appendChild(n),this.contentElement=r,t="tr"}else{var i=document.createElement("div");this.scrollElement.appendChild(i),this.contentElement=i,t="div"}this.scrollElement.className=(0,o.default)("infinite-tree","infinite-tree-scroll"),this.contentElement.className=(0,o.default)("infinite-tree","infinite-tree-content"),this.options.el.appendChild(this.scrollElement),this.clusterize=new l.default({tag:t,rows:[],scrollElement:this.scrollElement,contentElement:this.contentElement,emptyText:this.options.noDataText,emptyClass:this.options.noDataClass}),this.clusterize.on("clusterWillChange",(function(){e.emit("clusterWillChange")})),this.clusterize.on("clusterDidChange",(function(){e.emit("clusterDidChange")})),(0,p.addEventListener)(this.contentElement,"click",this.contentListener.click),(0,p.addEventListener)(this.contentElement,"dblclick",this.contentListener.dblclick),(0,p.addEventListener)(this.contentElement,"keydown",this.contentListener.keydown),(0,p.addEventListener)(this.contentElement,"keyup",this.contentListener.keyup),this.options.droppable&&((0,p.addEventListener)(document,"dragstart",this.contentListener.dragstart),(0,p.addEventListener)(document,"dragend",this.contentListener.dragend),(0,p.addEventListener)(this.contentElement,"dragenter",this.contentListener.dragenter),(0,p.addEventListener)(this.contentElement,"dragleave",this.contentListener.dragleave),(0,p.addEventListener)(this.contentElement,"dragover",this.contentListener.dragover),(0,p.addEventListener)(this.contentElement,"drop",this.contentListener.drop))}}},{key:"destroy",value:function(){if(this.clear(),this.options.el){for((0,p.removeEventListener)(this.contentElement,"click",this.contentListener.click),(0,p.removeEventListener)(this.contentElement,"dblclick",this.contentListener.dblclick),(0,p.removeEventListener)(this.contentElement,"keydown",this.contentListener.keydown),(0,p.removeEventListener)(this.contentElement,"keyup",this.contentListener.keyup),this.options.droppable&&((0,p.removeEventListener)(document,"dragstart",this.contentListener.dragstart),(0,p.removeEventListener)(document,"dragend",this.contentListener.dragend),(0,p.removeEventListener)(this.contentElement,"dragenter",this.contentListener.dragenter),(0,p.removeEventListener)(this.contentElement,"dragleave",this.contentListener.dragleave),(0,p.removeEventListener)(this.contentElement,"dragover",this.contentListener.dragover),(0,p.removeEventListener)(this.contentElement,"drop",this.contentListener.drop)),this.clusterize&&(this.clusterize.destroy(!0),this.clusterize=null);this.contentElement.firstChild;)this.contentElement.removeChild(this.contentElement.firstChild);for(;this.scrollElement.firstChild;)this.scrollElement.removeChild(this.scrollElement.firstChild);for(var e=this.options.el;e.firstChild;)e.removeChild(e.firstChild);this.contentElement=null,this.scrollElement=null}}},{key:"addChildNodes",value:function(e,t,n){var r=this;if(0===(e=[].concat(e||[])).length)return!1;if("object"===m(t)?t=(n=t||this.state.rootNode).children.length:n=n||this.state.rootNode,!_(n))return!1;"number"!=typeof t&&(t=n.children.length),e.forEach((function(e){e.parent=n})),n.children.splice.apply(n.children,[t,0].concat(e)),t=n.children.indexOf(e[0]);var o=n.state.total,i=(0,a.flatten)(n.children,{openNodes:this.state.openNodes,checkNodes:this.state.checkNodes}),s=[];s.length=i.length;for(var l=0;l<i.length;++l){var c=i[l];s[l]=this.options.rowRenderer(c,this.options)}if(n===this.state.rootNode)this.nodes=i,this.rows=s;else{var d=this.nodes.indexOf(n);d>=0&&(!0===n.state.open&&(this.nodes.splice.apply(this.nodes,[d+1,o].concat(i)),this.rows.splice.apply(this.rows,[d+1,o].concat(s))),this.rows[d]=this.options.rowRenderer(n,this.options))}return n.children.slice(t).forEach((function(e){r.flattenNode(e).forEach((function(e){void 0!==e.id&&r.nodeTable.set(e.id,e)}))})),this.update(),!0}},{key:"appendChildNode",value:function(e,t){if(t=t||this.state.rootNode,!_(t))return!1;var n=t.children.length,r=[].concat(e||[]);return this.addChildNodes(r,n,t)}},{key:"checkNode",value:function(e,t){if(!_(e))return!1;if(this.emit("willCheckNode",e),this.nodes.indexOf(e)<0)return j("Invalid node index"),!1;!0===t?(e.state.checked=!0,e.state.indeterminate=!1):!1===t?(e.state.checked=!1,e.state.indeterminate=!1):(e.state.checked=!!e.state.checked,e.state.indeterminate=!!e.state.indeterminate,e.state.checked=e.state.checked&&e.state.indeterminate||!e.state.checked,e.state.indeterminate=!1);var n=e;return function(e){for(var t=e.getFirstChild();t;)if(t.state.checked=e.state.checked,t.state.indeterminate=!1,t.hasChildren())t=t.getFirstChild();else{for(;null===t.getNextSibling()&&t.parent!==e;)t=t.getParent();t=t.getNextSibling()}}(e),function(e){for(var t=e.parent;t&&t.state.depth>=0;){n=t;for(var r=0,o=!1,i=t.children?t.children.length:0,s=0;s<i;++s){var a=t.children[s];o=o||!!a.state.indeterminate,a.state.checked&&r++}0===r?(t.state.indeterminate=!1,t.state.checked=!1):r>0&&r<i||o?(t.state.indeterminate=!0,t.state.checked=!0):(t.state.indeterminate=!1,t.state.checked=!0),t=t.parent}}(e),this.state.checkNodes=this.nodes.filter((function(e){return e.state.checked})),this.updateNode(n),this.emit("checkNode",e),!0}},{key:"clear",value:function(){this.clusterize&&this.clusterize.clear(),this.nodeTable.clear(),this.nodes=[],this.rows=[],this.state.openNodes=[],this.state.rootNode=S(this.state.rootNode),this.state.selectedNode=null,this.state.checkNodes=[]}},{key:"closeNode",value:function(e,t){var n=this,r=w({},t),o=r.async,i=void 0!==o&&o,s=r.asyncCallback,a=void 0===s?T:s,l=r.silent,c=void 0!==l&&l;if(!_(e))return!1;if(this.emit("willCloseNode",e),e===this.state.rootNode)return j("Cannot close the root node"),!1;var d=this.nodes.indexOf(e);if(d<0)return j("Invalid node index"),!1;if(this.state.openNodes.indexOf(e)<0)return!1;e.state.collapsing=!0,this.rows[d]=this.options.rowRenderer(e,this.options),this.update();var u=function(){if(n.state.selectedNode&&n.state.selectedNode!==e){var r=n.nodes.indexOf(n.state.selectedNode),o=e.state.total;d+1<=r&&r<=d+o&&n.selectNode(e,t)}e.state.open=!1;var i=n.state.openNodes.filter((function(e){return e.state.open}));n.state.openNodes=i;for(var s=e.state.total,l=e;null!==l;l=l.parent)l.state.total=l.state.total-s;n.nodes.splice(d+1,s),n.rows.splice(d+1,s),e.state.collapsing=!1,n.rows[d]=n.options.rowRenderer(e,n.options),n.update(),c||n.emit("closeNode",e),"function"==typeof a&&a()};return i?setTimeout(u,0):u(),!0}},{key:"filter",value:function(e,t){t=w({caseSensitive:!1,exactMatch:!1,filterPath:"name",includeAncestors:!0,includeDescendants:!0},t),this.filtered=!0;var n=this.state.rootNode;!function r(o){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!o||!o.children)return!1;if(o===n)o.state.filtered=!1;else if(i)o.state.filtered=!0;else if("string"==typeof e){var s=(0,u.get)(o,t.filterPath,"");Number.isFinite(s)&&(s=String(s)),"string"!=typeof s&&(s="");var a=e;t.caseSensitive||(s=s.toLowerCase(),a=a.toLowerCase()),o.state.filtered=t.exactMatch?s===a:s.indexOf(a)>=0}else if("function"==typeof e){var l=e;o.state.filtered=!!l(o)}else o.state.filtered=!1;t.includeDescendants&&(i=i||o.state.filtered);for(var c=!1,d=0;d<o.children.length;++d){var h=o.children[d];h&&r(h,i)&&(c=!0)}return t.includeAncestors&&c&&(o.state.filtered=!0),o.state.filtered}(n),this.rows.length=this.nodes.length;for(var r=0;r<this.nodes.length;++r){var o=this.nodes[r];this.rows[r]=this.options.rowRenderer(o,this.options)}this.update()}},{key:"flattenChildNodes",value:function(e){if(e=e||this.state.rootNode,!_(e))return[];for(var t=[],n=e.getFirstChild();n;)if(t.push(n),n.hasChildren())n=n.getFirstChild();else{for(;null===n.getNextSibling()&&n.parent!==e;)n=n.getParent();n=n.getNextSibling()}return t}},{key:"flattenNode",value:function(e){return _(e)?[e].concat(this.flattenChildNodes(e)):[]}},{key:"getChildNodes",value:function(e){return e=e||this.state.rootNode,_(e)?e.children:[]}},{key:"getNodeById",value:function(e){var t=this.nodeTable.get(e);if(!t){if(!(t=this.nodes.filter((function(t){return t.id===e}))[0]))return null;this.nodeTable.set(t.id,t)}return t}},{key:"getNodeFromPoint",value:function(e,t){for(var n=document.elementFromPoint(e,t);n&&n.parentElement!==this.contentElement;)n=n.parentElement;if(!n)return null;var r=n.getAttribute(this.options.nodeIdAttr);return this.getNodeById(r)}},{key:"getOpenNodes",value:function(){return this.state.openNodes.slice()}},{key:"getRootNode",value:function(){return this.state.rootNode}},{key:"getSelectedNode",value:function(){return this.state.selectedNode}},{key:"getSelectedIndex",value:function(){return this.nodes.indexOf(this.state.selectedNode)}},{key:"getCheckNodes",value:function(){return this.state.checkNodes.slice()}},{key:"insertNodeAfter",value:function(e,t){if(!_(t))return!1;var n=t.getParent(),r=n.children.indexOf(t)+1,o=[].concat(e||[]);return this.addChildNodes(o,r,n)}},{key:"insertNodeBefore",value:function(e,t){if(!_(t))return!1;var n=t.getParent(),r=n.children.indexOf(t),o=[].concat(e||[]);return this.addChildNodes(o,r,n)}},{key:"loadData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._data=t;var r=n.open||!1,o=n.selected||!1;if(r&&this.state.openNodes.length>0){var i,s=[],l=g(this.state.openNodes);try{for(l.s();!(i=l.n()).done;){var c=i.value;s.push(c.id)}}catch(e){l.e(e)}finally{l.f()}this.nodes=(0,a.flatten)(t,{openNodes:s})}else this.nodes=(0,a.flatten)(t,{openAllNodes:this.options.autoOpen});if(this.nodeTable.clear(),this.state.openNodes=this.nodes.filter((function(e){return e.state.open})),this.state.checkNodes=this.nodes.filter((function(e){return e.state.checked})),o&&this.state.selectedNode){var d=this.state.selectedNode.id,u=this.getNodeById(d);u?(this.state.selectedNode=u,u.state.selected=!0):this.state.selectedNode=null}else this.state.selectedNode=null;var h=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&null!==e.parent;)e=e.parent;return e}(this.nodes.length>0?this.nodes[0]:null);this.state.rootNode=h||S(this.state.rootNode),this.flattenChildNodes(this.state.rootNode).forEach((function(t){void 0!==t.id&&e.nodeTable.set(t.id,t)})),this.rows.length=this.nodes.length;for(var f=0;f<this.nodes.length;++f){var p=this.nodes[f];this.rows[f]=this.options.rowRenderer(p,this.options)}this.update()}},{key:"moveNodeTo",value:function(e,t,n){if(!_(e)||!_(t))return!1;for(var r=t;null!==r;r=r.parent)if(r===e)return j("Cannot move an ancestor node (id=".concat(e.id,") to the specified parent node (id=").concat(t.id,").")),!1;return this.removeNode(e)&&this.addChildNodes(e,n,t)}},{key:"openNode",value:function(e,t){var n=this,r=w({},t),o=r.async,i=void 0!==o&&o,s=r.asyncCallback,l=void 0===s?T:s,d=r.silent,u=void 0!==d&&d;if(!_(e))return!1;if(!this.nodeTable.has(e.id))return j("Cannot open node with the given node id:",e.id),!1;if(this.state.openNodes.indexOf(e)>=0)return!1;this.emit("willOpenNode",e);var h=this.nodes.indexOf(e),f=function(){e.state.open=!0,n.state.openNodes.indexOf(e)<0&&(n.state.openNodes=[e].concat(n.state.openNodes));var t=(0,a.flatten)(e.children,{openNodes:n.state.openNodes});if(t.length>0&&!n.nodeTable.get(t[0])&&t.forEach((function(e){void 0!==e.id&&n.nodeTable.set(e.id,e)})),e.state.expanding=!1,h>=0){var r=[];r.length=t.length;for(var o=0;o<t.length;++o){var i=t[o];r[o]=n.options.rowRenderer(i,n.options)}n.nodes.splice.apply(n.nodes,[h+1,0].concat(t)),n.rows.splice.apply(n.rows,[h+1,0].concat(r)),n.rows[h]=n.options.rowRenderer(e,n.options),n.update()}u||n.emit("openNode",e),"function"==typeof l&&l()};return h<0?(e.state.expanding=!0,i?setTimeout(f,0):f(),!0):("function"==typeof this.options.shouldLoadNodes?this.options.shouldLoadNodes(e):!e.hasChildren()&&e.loadOnDemand)?"function"==typeof this.options.loadNodes&&!0!==e.state.loading&&(e.state.loading=!0,this.rows[h]=this.options.rowRenderer(e,this.options),this.update(),setTimeout((function(){n.options.loadNodes(e,(function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;o=(0,c.default)(o);var s=n.nodes.indexOf(e);if(0===o.length&&s>=0&&(e.state.open=!0,n.state.openNodes.indexOf(e)<0&&(n.state.openNodes=[e].concat(n.state.openNodes))),r||0===o.length)return e.state.loading=!1,n.rows[s]=n.options.rowRenderer(e,n.options),n.update(),void("function"==typeof i&&i());n.addChildNodes(o,e),e.hasChildren()?n.openNode(e,w(w({},t),{},{async:!0,asyncCallback:function(){e.state.loading=!1;var t=n.nodes.indexOf(e);n.rows[t]=n.options.rowRenderer(e,n.options),n.update(),"function"==typeof i&&i()}})):(e.state.loading=!1,n.rows[s]=n.options.rowRenderer(e,n.options),n.update(),"function"==typeof i&&i())}))}),0),!0):(e.state.expanding=!0,this.rows[h]=this.options.rowRenderer(e,this.options),this.update(),i?setTimeout(f,0):f(),!0)}},{key:"removeChildNodes",value:function(e,t){var n=this;if(!_(e))return!1;if(0===e.children.length)return!1;if(e===this.state.rootNode)return this.clear(),!0;var r=this.nodes.indexOf(e);if(r>=0&&this.state.selectedNode){var o=this.nodes.indexOf(this.state.selectedNode),i=r+1,s=r+e.state.total;i<=o&&o<=s&&(e===this.state.rootNode?this.selectNode(null,t):this.selectNode(e,t))}for(var a=this.flattenChildNodes(e),l=e.state.total,c=e;null!==c;c=c.parent)c.state.total=c.state.total-l;return e.children=[],e!==this.state.rootNode&&(e.state.open=e.state.open&&e.children.length>0),r>=0&&(this.nodes.splice(r+1,l),this.rows.splice(r+1,l),this.rows[r]=this.options.rowRenderer(e,this.options)),this.state.openNodes=this.state.openNodes.filter((function(e){return a.indexOf(e)<0&&e.state.open})),this.state.checkNodes=this.state.checkNodes.filter((function(e){return a.indexOf(e)<0&&e.state.checked})),a.forEach((function(e){n.nodeTable.unset(e.id)})),this.update(),!0}},{key:"removeNode",value:function(e,t){var n=this;if(!_(e))return!1;var r=e.parent;if(!r)return!1;var o=this.nodes.indexOf(e),i=this.nodes.indexOf(r);if(o>=0&&this.state.selectedNode){var s=this.nodes.indexOf(this.state.selectedNode),a=o,l=o+e.state.total+1;if(a<=s&&s<=l){var c=e.getNextSibling()||e.getPreviousSibling()||e.getParent();c===this.state.rootNode?this.selectNode(null,t):this.selectNode(c,t)}}for(var d=this.flattenNode(e),u=e.state.total+1,h=r;null!==h;h=h.parent)h.state.total=h.state.total-u;return r.children.splice(r.children.indexOf(e),1),r!==this.state.rootNode&&(r.state.open=r.state.open&&r.children.length>0),o>=0&&(this.nodes.splice(o,u),this.rows.splice(o,u)),i>=0&&(this.rows[i]=this.options.rowRenderer(r,this.options)),this.state.openNodes=this.state.openNodes.filter((function(e){return d.indexOf(e)<0&&e.state.open})),this.state.checkNodes=this.state.checkNodes.filter((function(e){return d.indexOf(e)<0&&e.state.checked})),d.forEach((function(e){n.nodeTable.unset(e.id)})),this.update(),!0}},{key:"scrollToNode",value:function(e){if(!_(e))return!1;var t=this.nodes.indexOf(e);if(t<0)return!1;if(!this.contentElement)return!1;for(var n=this.contentElement.firstChild;n&&!((n.className||"").indexOf("clusterize-extra-row")<0&&n.offsetHeight>0);)n=n.nextSibling;var r=n&&n.offsetHeight||0;r>0&&this.scrollTop(t*r);var o="[".concat(this.options.nodeIdAttr,'="').concat(e.id,'"]'),i=this.contentElement.querySelector(o);return i&&this.scrollTop(i.offsetTop),!0}},{key:"scrollTop",value:function(e){return this.scrollElement?(void 0!==e&&(this.scrollElement.scrollTop=Number(e)),this.scrollElement.scrollTop):0}},{key:"selectNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=this.options,r=n.selectable,o=n.shouldSelectNode,i=w({},t),s=i.autoScroll,a=void 0===s||s,l=i.silent,c=void 0!==l&&l;if(this.emit("willSelectNode",e),!r)return!1;if("function"==typeof o&&!o(e))return!1;if(e===this.state.rootNode)return!1;if(null===e){if(this.state.selectedNode){var d=this.state.selectedNode,u=this.nodes.indexOf(this.state.selectedNode);return d.state.selected=!1,this.rows[u]=this.options.rowRenderer(d,this.options),this.state.selectedNode=null,this.update(),c||this.emit("selectNode",null),!0}return!1}if(!_(e))return!1;var h=this.nodes.indexOf(e);if(h<0)return!1;if(this.state.selectedNode!==e&&(e.state.selected=!0,this.rows[h]=this.options.rowRenderer(e,this.options)),this.state.selectedNode){var f=this.state.selectedNode,p=this.nodes.indexOf(this.state.selectedNode);f.state.selected=!1,this.rows[p]=this.options.rowRenderer(f,this.options)}if(this.state.selectedNode!==e){if(this.state.selectedNode=e,c||this.emit("selectNode",e),a&&this.scrollElement&&this.contentElement){var v="[".concat(this.options.nodeIdAttr,'="').concat(e.id,'"]'),g=this.contentElement.querySelector(v);if(g){var y=g.offsetTop||0,m=g.offsetHeight||0;y<this.scrollElement.scrollTop&&(this.scrollElement.scrollTop=y),y+m>=this.scrollElement.scrollTop+this.scrollElement.clientHeight&&(this.scrollElement.scrollTop+=m)}}}else this.state.selectedNode=null,c||this.emit("selectNode",null);return this.update(),!0}},{key:"swapNodes",value:function(e,t){if(!_(e)||!_(e.parent))return!1;if(!_(t)||!_(t.parent))return!1;for(var n=e.parent,r=t.parent,o=n;null!==o;o=o.parent)if(o===t)return j("Cannot swap two nodes with one being an ancestor of the other."),!1;for(var i=r;null!==i;i=i.parent)if(i===e)return j("Cannot swap two nodes with one being an ancestor of the other."),!1;var s=n.children.indexOf(e),a=r.children.indexOf(t);return this.moveNodeTo(e,r,a)&&this.moveNodeTo(t,n,s)}},{key:"toggleNode",value:function(e,t){return!!_(e)&&(this.state.openNodes.indexOf(e)>=0?this.closeNode(e,t):this.openNode(e,t))}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=function e(t){var n="[";if(t&&t.children)for(var r=function(r){var o=[];n+="{",Object.keys(t).forEach((function(n){var i=t[n];"parent"!==n&&("children"!==n?"string"==typeof i||"object"===m(i)?o.push('"'+n+'":'+JSON.stringify(i)):o.push('"'+n+'":'+i):o.push('"'+n+'":'+e(t.children[r])))})),n=(n+=o.join(","))+"}"+(r===t.children.length-1?"":",")},o=0;o<t.children.length;++o)r(o);return n+="]"};return e||(e=this.state.rootNode),t(e)}},{key:"unfilter",value:function(){this.filtered=!1,function e(t){if(t&&(delete t.state.filtered,t.children))for(var n=0;n<t.children.length;++n){var r=t.children[n];r&&e(r)}}(this.state.rootNode),this.rows.length=this.nodes.length;for(var e=0;e<this.nodes.length;++e){var t=this.nodes[e];this.rows[e]=this.options.rowRenderer(t,this.options)}this.update()}},{key:"update",value:function(){if(this.emit("contentWillUpdate"),this.clusterize){var e=this.rows.filter((function(e){return!!e}));this.clusterize.update(e)}this.emit("contentDidUpdate")}},{key:"updateNode",value:function(e,t,n){if(_(e)){void 0!==(t=w({},t)).id&&null!==t.id&&(this.nodeTable.unset(e.id),this.nodeTable.set(t.id,e),e.id=t.id),delete t.id,delete t.children,delete t.parent,delete t.state,e=(0,d.default)(e,t);var r=this.nodes.indexOf(e);if(r>=0){var o=w({},n).shallowRendering,i=void 0!==o&&o;if(this.rows[r]=this.options.rowRenderer(e,this.options),!i)for(var s=r+e.state.total,a=r+1;a<=s;++a)this.rows[a]=this.options.rowRenderer(this.nodes[a],this.options);this.update()}}}}])&&N(t.prototype,n),r&&N(t,r),y}(r.default.EventEmitter);t.default=P},function(e,t){function n(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function r(e){if(!(this instanceof r))return new r(e);e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!=typeof this.el&&(this.el=document.querySelector(this.el))}e.exports=function(e){return new r(e)},r.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var r=t.className.split(" ");return n(r,e)>-1||(r.push(e),t.className=r.join(" ")),r}},r.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var r=t.className.split(" "),o=n(r,e);return o>-1&&r.splice(o,1),t.className=r.join(" "),r}},r.prototype.has=function(e){var t=this.el;if(t)return n(t.className.split(" "),e)>-1},r.prototype.toggle=function(e){this.el&&(this.has(e)?this.remove(e):this.add(e))}},function(e,t,n){var r=n(11),o=n(12);e.exports=function(e){return!(!r(e)||!o(window)||"function"!=typeof window.Node)&&("number"==typeof e.nodeType&&"string"==typeof e.nodeName)}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}},function(e,t,n){"use strict";e.exports=function(e){if(null==e)return!1;var t=Object(e);return t===t.window}},function(e,t,n){"use strict";t.__esModule=!0,t.Node=t.flatten=void 0;var r=i(n(14)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}t.flatten=r.default,t.Node=o.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=[].concat(e);var n=[],i=[],s={lastChild:{}};t.openAllNodes=!!t.openAllNodes,t.openNodes=t.openNodes||[],t.checkAllNodes=!!t.checkAllNodes,t.checkNodes=t.checkNodes||[],t.throwOnError=!!t.throwOnError;var a=e.length>0?e[0]:null,l=a?a.parent:null;!l||l instanceof o.default||(l=new o.default(l));var c=l||new o.default({parent:null,children:e,state:{depth:-1,open:!0,checked:!1,path:"",prefixMask:"",total:0}});if(c===l)for(var d=c.state.total||0,u=c;u;){var h=u.state,f=h.path,p=h.total,v=void 0===p?0:p;if(u.isLastChild()&&f&&(s.lastChild[f]=!0),u.state.total=v-d,u.state.total<0){if(t.throwOnError)throw new Error("The node might have been corrupted: id="+JSON.stringify(u.id)+", state="+JSON.stringify(u.state));console&&console.log("Error: The node might have been corrupted: id=%s, parent=%s, children=%s, state=%s",JSON.stringify(u.id),u.parent,u.children,JSON.stringify(u.state))}u=u.parent}for(i.push([c,c.state.depth,0]);i.length>0;)for(var g=i.pop(),y=g[0],m=g[1],b=g[2],w=function(){var e=y.children[b];e instanceof o.default||(e=new o.default(e)),e.parent=y,e.children=e.children||[],e.parent.children[b]=e;var a,l,c,d,u=y.state.path+"."+b,h=e.hasChildren()&&(a=t.openAllNodes,l=t.openNodes,!!a||!(!e.state||!e.state.open)||l.indexOf(e)>=0||l.indexOf(e.id)>=0),f=(c=t.checkAllNodes,d=t.checkNodes,!!c||!(!e.state||!e.state.checked)||d.indexOf(e)>=0||d.indexOf(e.id)>=0),p=function(e){for(var t="";e.length>0;)t=!(e=e.replace(/\.\d+$/,""))||s.lastChild[e]?"0"+t:"1"+t;return t}(u);b===y.children.length-1&&(s.lastChild[u]=!0),e.state=(0,r.default)({},e.state,{depth:m+1,open:h,checked:f,path:u,prefixMask:p,total:0});for(var v=!0,g=e;null!==g.parent;){if(!1===g.parent.state.open){v=!1;break}g=g.parent}if(v){n.push(e);for(var w=e;null!==w.parent;)w.parent.state.total++,w=w.parent}++b,e.hasChildren()&&(i.push([y,m,b]),b=0,m+=1,y=e)};b<y.children.length;)w();return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(0),i=(r=n(4))&&r.__esModule?r:{default:r},s=n(16),a=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(0,s.getIEVersion)(),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,r,o=f(s);function s(e){var t,n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),y(v(t=o.call(this)),"options",{rowsInBlock:50,blocksInCluster:4,tag:null,emptyClass:"",emptyText:"",keepParity:!0}),y(v(t),"state",{lastClusterIndex:-1,itemHeight:0,blockHeight:0,clusterHeight:0}),y(v(t),"scrollElement",null),y(v(t),"contentElement",null),y(v(t),"rows",[]),y(v(t),"cache",{}),y(v(t),"scrollEventListener",(n=null,function(){navigator.platform.toLowerCase().indexOf("mac")>=0&&("none"!==t.contentElement.style.pointerEvents&&(t.contentElement.style.pointerEvents="none"),n&&(clearTimeout(n),n=null),n=setTimeout((function(){n=null,t.contentElement.style.pointerEvents="auto"}),50));var e=t.getCurrentClusterIndex();t.state.lastClusterIndex!==e&&t.changeDOM(),t.state.lastClusterIndex=e})),y(v(t),"resizeEventListener",function(){var e=null;return function(){e&&(clearTimeout(e),e=null),e=setTimeout((function(){var e=t.state.itemHeight,n=t.computeHeight();n.itemHeight>0&&e!==n.itemHeight&&(t.state=d(d({},t.state),n),t.update(t.rows))}),100)}}()),!(v(t)instanceof s))return p(t,new s(e));if(t.options=Object.keys(t.options).reduce((function(n,r){return void 0!==e[r]?n[r]=e[r]:n[r]=t.options[r],n}),{}),t.scrollElement=e.scrollElement,t.contentElement=e.contentElement,t.contentElement.hasAttribute("tabindex")||t.contentElement.setAttribute("tabindex",0),Array.isArray(e.rows))t.rows=e.rows;else{t.rows=[];for(var r=t.contentElement.children,i=r.length,l=0;l<i;++l){var c=r[l];t.rows.push(c.outerHTML||"")}}var u=t.scrollElement.scrollTop;return t.changeDOM(),t.scrollElement.scrollTop=u,(0,a.addEventListener)(t.scrollElement,"scroll",t.scrollEventListener),(0,a.addEventListener)(window,"resize",t.resizeEventListener),t}return t=s,(n=[{key:"destroy",value:function(e){(0,a.removeEventListener)(this.scrollElement,"scroll",this.scrollEventListener),(0,a.removeEventListener)(window,"resize",this.resizeEventListener);var t=e?this.generateEmptyRow():this.rows();this.setContent(t.join(""))}},{key:"update",value:function(e){this.rows=(0,i.default)(e);var t=this.scrollElement.scrollTop;this.rows.length*this.state.itemHeight<t&&(this.scrollElement.scrollTop=0,this.state.lastClusterIndex=0),this.changeDOM(),this.scrollElement.scrollTop=t}},{key:"clear",value:function(){this.rows=[],this.update()}},{key:"append",value:function(e){(e=(0,i.default)(e)).length&&(this.rows=this.rows.concat(e),this.changeDOM())}},{key:"prepend",value:function(e){(e=(0,i.default)(e)).length&&(this.rows=e.concat(this.rows),this.changeDOM())}},{key:"computeHeight",value:function(){if(this.rows.length){var e=this.contentElement.children,t=e[Math.floor(e.length/2)],n=t.offsetHeight;if("tr"===this.options.tag&&"collapse"!==(0,a.getElementStyle)(this.contentElement,"borderCollapse")&&(n+=parseInt((0,a.getElementStyle)(this.contentElement,"borderSpacing"),10)||0),"tr"!==this.options.tag){var r=parseInt((0,a.getElementStyle)(t,"marginTop"),10)||0,o=parseInt((0,a.getElementStyle)(t,"marginBottom"),10)||0;n+=Math.max(r,o)}var i=n*this.options.rowsInBlock;return{itemHeight:n,blockHeight:i,clusterHeight:i*this.options.blocksInCluster}}return{clusterHeight:0,blockHeight:this.state.blockHeight,itemHeight:this.state.itemHeight}}},{key:"getCurrentClusterIndex",value:function(){var e=this.state,t=e.blockHeight,n=e.clusterHeight;return t&&n&&Math.floor(this.scrollElement.scrollTop/(n-t))||0}},{key:"generateEmptyRow",value:function(){var e=this.options,t=e.tag,n=e.emptyText,r=e.emptyClass;if(!t||!n)return[];var o=document.createElement(t);if(o.className=r,"tr"===t){var i=document.createElement("td");i.colSpan=100,i.appendChild(document.createTextNode(n)),o.appendChild(i)}else o.appendChild(document.createTextNode(n));return[o.outerHTML]}},{key:"renderExtraTag",value:function(e,t){var n=document.createElement(this.options.tag);return n.className=["infinite-tree-extra-row","infinite-tree-"+e].join(" "),t&&(n.style.height=t+"px"),n.outerHTML}},{key:"changeDOM",value:function(){!this.state.clusterHeight&&this.rows.length>0&&(m&&m<=9&&!this.options.tag&&(this.options.tag=this.rows[0].match(/<([^>\s/]*)/)[1].toLowerCase()),this.contentElement.children.length<=1&&(this.cache.content=this.setContent(this.rows[0]+this.rows[0]+this.rows[0])),this.options.tag||(this.options.tag=this.contentElement.children[0].tagName.toLowerCase()),this.state=d(d({},this.state),this.computeHeight()));var e=0,t=0,n=[];if(this.rows.length<this.options.rowsInBlock)n=this.rows.length>0?this.rows:this.generateEmptyRow();else{var r=this.options.rowsInBlock*this.options.blocksInCluster,o=this.getCurrentClusterIndex(),i=Math.max((r-this.options.rowsInBlock)*o,0),s=i+r;e=Math.max(i*this.state.itemHeight,0),t=Math.max((this.rows.length-s)*this.state.itemHeight,0),n=this.rows.slice(i,s)}var a=n.join(""),l=this.checkChanges("content",a),c=this.checkChanges("top",e),u=this.checkChanges("bottom",t);if(l||c){var h=[];e>0&&(this.options.keepParity&&h.push(this.renderExtraTag("keep-parity")),h.push(this.renderExtraTag("top-space",e))),h.push(a),t>0&&h.push(this.renderExtraTag("bottom-space",t)),this.emit("clusterWillChange"),this.setContent(h.join("")),this.emit("clusterDidChange")}else u&&(this.contentElement.lastChild.style.height=t+"px")}},{key:"setContent",value:function(e){if(m&&m<=9&&"tr"===this.options.tag){var t=document.createElement("div");t.innerHTML="<table><tbody>".concat(e,"</tbody></table>");for(var n=this.contentElement.lastChild;n;)this.contentElement.removeChild(n),n=this.contentElement.lastChild;for(var r=this.getChildNodes(t.firstChild.firstChild);r.length;)this.contentElement.appendChild(r.shift())}else this.contentElement.innerHTML=e}},{key:"getChildNodes",value:function(e){for(var t=e.children,n=[],r=t.length,o=0;o<r;o++)n.push(t[o]);return n}},{key:"checkChanges",value:function(e,t){var n=t!==this.cache[e];return this.cache[e]=t,n}}])&&u(t.prototype,n),r&&u(t,r),s}(o.EventEmitter);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIEVersion=void 0;t.getIEVersion=function(){var e=document.createElement("div"),t=e.getElementsByTagName("i")||[],n=3;do{++n,e.innerHTML="\x3c!--[if gt IE "+n+"]><i></i><![endif]--\x3e"}while(t[0]);return n>4?n:document.documentMode}},function(e,t,n){"use strict";e.exports=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=0;n<(arguments.length<=1?0:arguments.length-1);n++){var r=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=t.trim=void 0;var o=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" \f\n\r\t\v";t.indexOf(e[0])>=0;)e=e.slice(1);for(;t.indexOf(e[e.length-1])>=0;)e=e.slice(0,-1);return e};t.trim=o;var i,s=(i=new RegExp(/[\w\-]+|\[[^\]]*\]+/g),function(e,t,n){if(!e||"object"!==r(e))return n;var s=(t=""+t).match(i);if(!s)return n;for(var a=0;a<s.length;a++){var l=s[a];if("["===(l=o(l," \f\n\r\t\v"))[0]&&(l=o(l.slice(1,-1)," \f\n\r\t\v")),l=o(l,"'\""),null==e||"object"!==r(e))break;if(void 0===(e=e[l]))break}return void 0!==e?e:n});t.get=s},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="data")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,o;return t=e,(n=[{key:"clear",value:function(){this.data={}}},{key:"get",value:function(e){return this.data[e]}},{key:"has",value:function(e){return void 0!==this.data[e]}},{key:"set",value:function(e,t){return this.data[e]=t,t}},{key:"unset",value:function(e){void 0!==this.data[e]&&delete this.data[e]}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultRowRenderer=void 0;var r=s(n(1)),o=s(n(6)),i=s(n(21));function s(e){return e&&e.__esModule?e:{default:e}}t.defaultRowRenderer=function(e,t){var n=e.id,s=e.name,a=e.loadOnDemand,l=void 0!==a&&a,c=e.children,d=e.state,u=e.icon,h=void 0===u?"":u,f=t.droppable,p=d.depth,v=d.open,g=d.path,y=d.total,m=d.selected,b=void 0!==m&&m,w=d.filtered,N=Object.keys(c).length,E=e.hasChildren(),O=t.iconUrl;if(!1===w)return"";var k=(0,i.default)("span",{class:!E&&l?(0,r.default)(t.togglerClass,"infinite-tree-closed"):E&&v?(0,r.default)(t.togglerClass):E&&!v?(0,r.default)(t.togglerClass,"infinite-tree-closed"):""},""),C=O?O(h):h?"/images/".concat(h,".png"):void 0,x="";C&&(x=(0,i.default)("img",{class:"infinite-tree-item-icon",style:"margin-right: 6px;",src:C}));var L=(0,i.default)("span",{class:(0,r.default)("infinite-tree-title")},(0,o.default)(s)),T=(0,i.default)("div",{class:"infinite-tree-node",style:"margin-left: ".concat(18*p,"px")},k+x+L);return(0,i.default)("div",{"data-id":n,"data-expanded":E&&v,"data-depth":p,"data-path":g,"data-selected":b,"data-children":N,"data-total":y,class:(0,r.default)("infinite-tree-item",{"infinite-tree-selected":b}),droppable:f},T)}},function(e,t,n){"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(6),a=(r=s)&&r.__esModule?r:{default:r};var l=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];e.exports=function(e,t,n){"object"===(void 0===e?"undefined":i(e))&&(n=t,t=e,e="div");var r=l.indexOf((""+e).toLowerCase())>=0,s="<"+e;return t=o({},t),Object.keys(t).forEach((function(e){var n=t[e];"string"==typeof n?(n=(0,a.default)(""+n),s+=" "+e+'="'+n+'"'):n&&(s+=" "+e)})),s+=r?">":void 0!==n?">"+n+"</"+e+">":"/>"}}]);